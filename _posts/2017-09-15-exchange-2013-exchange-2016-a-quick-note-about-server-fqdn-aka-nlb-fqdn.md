---
layout: post
title: Exchange 2013 / Exchange 2016–a quick note about Server FQDN aka NLB fqdn
date: 2017-09-15 12:23
author: sammykrosoft
comments: true
categories: [Uncategorized]
---
<p>&nbsp;</p> <p>While planning or deploying Exchange 2013/2016, don’t forget these to have the correct Load Balancing on your Exchange 2013/2016 servers:</p> <p>&nbsp;</p> <p>Assuming your Exchange 2013/2016 namespace is <strong>mail.contoso.com</strong>, which points to your Load Balancer’s IP address.</p> <p>Set Outlook Anywhere Internal and External URLs to <strong>mail.contoso.com</strong></p> <p><a title="https://practical365.com/exchange-server/exchange-2013-client-access-server-high-availability/" href="https://practical365.com/exchange-server/exchange-2013-client-access-server-high-availability/">https://practical365.com/exchange-server/exchange-2013-client-access-server-high-availability/</a></p> <p>&nbsp;</p> <p>Use the following:</p> <p><font face="Courier New">Get-OutlookAnywhere | Set-OutlookAnywhere -InternalHostname mail.contoso.com -InternalClientsRequireSsl $true</font></p> <p>Note that Paul Cunningham gives an example using <font face="Courier New">–InternalClientsRequireSsl $false</font>, which is good as well since internally we usually use Kerberos which encrypts per-se critical authentication data flow within the http flow – but on my case, clients were on a different network zone, which had only port HTTPS (443) opened from clients to the E2013/2016 servers zone, hence the <font face="Courier New">-InternalClientsRequireSsl $true </font>on my case.</p> <p>&nbsp;</p> <p>and of course, also ensure that <strong>mail.contoso.com </strong>is resolved – you can either use nslookup or this neat Powershell command:</p> <p><font face="Courier New">Resolve-DnsName mail.contoso.com</font></p> <p><img class="wlEmoticon wlEmoticon-star" style="border-top-style: none;border-left-style: none;border-bottom-style: none;border-right-style: none" alt="Star" src="https://msdnshared.blob.core.windows.net/media/2017/09/wlEmoticon-star.png"> Thanks Paul Cunningham for these, I discovered “Resolve-DnsName” cmdlet <img class="wlEmoticon wlEmoticon-smile" style="border-top-style: none;border-left-style: none;border-bottom-style: none;border-right-style: none" alt="Smile" src="https://msdnshared.blob.core.windows.net/media/2017/09/wlEmoticon-smile2.png"></p> <p>&nbsp;</p> <p><strong>- Note about the RPCClientAccessServer property</strong></p> <p>Althought present, that property is not used anymore in Exchange 2013/2016 database objects – in Exchange 2010 and back, it was used for autodiscover to give the RPC endpoint fqdn (NLB usually) to Outlook clients – remember Exchange 2013/2016 use HTTPS only now for Client &lt;-&gt; Server communications …</p> <p>&nbsp;</p> <p>That’s just a quick note, thanks for forgiving me for the drafty formatting here </p> <p>cheers</p> <p>Sam</p>
